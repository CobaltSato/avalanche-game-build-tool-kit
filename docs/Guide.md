# Claude Code 機能ガイド

このプロジェクトには、開発を強力にサポートする Claude Code の設定一式が組み込まれています。
このガイドでは「何ができるのか」「どう使うのか」を図解付きでやさしく説明します。

> **参考**: この設定は [everything-claude-code](https://github.com/affaan-m/everything-claude-code) の設計思想に基づいており、
> Anthropic x Forum Ventures ハッカソン優勝者が10ヶ月以上かけて本番環境で使い込んだベストプラクティスを取り入れています。

---

## 目次

1. [全体像](#全体像)
2. [コマンド・エージェント・スキルの違い（最重要）](#コマンドエージェントスキルの違い最重要)
3. [クイックスタート](#クイックスタート)
4. [スラッシュコマンド](#スラッシュコマンド)
5. [エージェント](#エージェント)
6. [スキル](#スキル)
7. [ルール](#ルール)
8. [フック（自動チェック）](#フック自動チェック)
9. [コンテキスト（作業モード）](#コンテキスト作業モード)
10. [MCP設定](#mcp設定)
11. [TDDワークフロー](#tddワークフロー)
12. [よくある質問](#よくある質問)

---

## 全体像

```
┌──────────────────────────────────────────────────────────────────────┐
│                         Claude Code の全体構成                        │
│                                                                      │
│   あなた（開発者）                                                    │
│     │                                                                │
│     ├── "/plan" "/tdd" 等 ──→ [ コマンド ] ──→ [ エージェント ] ─┐   │
│     │   (スラッシュコマンド)     (ボタン)        (専門家)          │   │
│     │                                              │              │   │
│     └── 自然言語で指示 ──────────────────────→  参照 ↓              │   │
│         「レビューして」                      [ スキル ]            │   │
│                                               (マニュアル)         │   │
│                                                    │              │   │
│                                                    ▼              │   │
│   ┌─ 常に有効 ──────────────┐    ┌─ 自動実行 ────┐  あなたの     │   │
│   │ [ ルール ]    (交通法規) │    │ [ フック ]     │  コード  ◀───┘   │
│   │ [ コンテキスト ] (ギア)  │    │  (監視カメラ)  │                   │
│   └─────────────────────────┘    └───────────────┘                   │
│                                                                      │
│   ┌─ 外部連携 ──────────────────────────────────────┐               │
│   │ [ MCP ] Playwright(ブラウザ), Context7(ドキュメント)             │
│   └─────────────────────────────────────────────────┘               │
└──────────────────────────────────────────────────────────────────────┘
```

### ディレクトリ構造

```
.claude/
├── commands/            ← あなたが呼ぶ      (19個)
├── agents/              ← コマンドが呼ぶ     ( 9個)
├── skills/              ← エージェントが参照  (11個)
├── rules/               ← 常に有効           ( 8個)
├── contexts/            ← 自動切替           ( 3個)
├── scripts/hooks/       ← 自動実行           ( 6個)
└── settings.local.json  ← MCP・フック・権限設定
```

起動するだけで自動的に読み込まれます。特別な設定は不要です。

---

## コマンド・エージェント・スキルの違い（最重要）

この3つの違いを理解すれば、Claude Code の設定全体が見通せます。

### 一言まとめ（/evolve コマンドの公式定義より）

```
  コマンド     = ユーザーが呼ぶアクション       (user-invoked actions)
  エージェント  = 複雑なマルチステップ処理       (complex multi-step processes)
  スキル       = 自動で発動する振る舞い・知識    (auto-triggered behaviors)
```

### 流れ図

```
  あなた
    │
    │  "/code-review" と入力
    ▼
 ┌──────────┐     起動      ┌──────────────┐     参照     ┌──────────┐
 │ コマンド  │ ──────────→  │ エージェント  │ ──────────→ │ スキル    │
 │ (ボタン)  │              │  (専門家)     │             │(マニュアル)│
 └──────────┘              └──────┬───────┘             └──────────┘
                                  │
                                  │ 実行
                                  ▼
                            ┌──────────┐
                            │  結果     │
                            │(レビュー) │
                            └──────────┘
```

### 具体例で理解する

```
  /code-review を入力
    │
    ▼
  コマンド（code-review.md）
    「コードレビューを実行せよ」というプロンプトが展開される
    │
    ▼
  エージェント（code-reviewer）
    レビュー専門家が起動。Read, Grep 等のツールを持つ
    │
    ├─→ スキル（security-review）を参照
    │     OWASP Top 10 チェックリスト等の知識
    │
    ├─→ スキル（coding-standards）を参照
    │     TypeScript ベストプラクティス等の知識
    │
    └─→ コードを読んでレビュー結果を出力
```

### レストランで例えると

```
  ┌─────────────────────────────────────────────────────────┐
  │                                                         │
  │   コマンド = メニューの注文ボタン                         │
  │              「ハンバーガーセット」を押すだけ              │
  │                        │                                │
  │                        ▼                                │
  │   エージェント = 調理するシェフ                           │
  │                  注文を受けて実際に料理を作る             │
  │                        │                                │
  │                        ▼                                │
  │   スキル = レシピ本                                      │
  │            シェフが参照する調理手順・知識                  │
  │                                                         │
  └─────────────────────────────────────────────────────────┘
```

### 比較表

|  | コマンド | エージェント | スキル |
|--|---------|------------|-------|
| **たとえ** | ボタン | 専門家 | マニュアル |
| **役割** | 処理を起動する | タスクを実行する | 知識を提供する |
| **誰が使う？** | あなたが直接 | コマンドや Claude が | エージェントが参照 |
| **呼び出し方** | `/コマンド名` | 自動 or 名前指定 | 自動（意識不要） |
| **ツール** | なし | あり（5個程度） | なし（知識のみ） |
| **保存場所** | `.claude/commands/` | `.claude/agents/` | `.claude/skills/` |
| **数** | 19個 | 9個 | 11個 |
| **例** | `/plan`, `/tdd` | planner, tdd-guide | tdd-workflow |

### コマンドとスキルは何が違う？

everything-claude-code の原文にはこう書かれています：

> "Commands are essentially skills executed via slash commands"
> （コマンドは本質的に、スラッシュコマンドで実行されるスキルである）

つまり**中身は似ている**が、**呼び出し方が違う**のがポイントです。

```
  ┌──────────────────────────────────────────────────────────┐
  │                                                          │
  │  コマンド = ユーザーが明示的に呼ぶアクション              │
  │  ────────────────────────────────────────                │
  │  ・「/コマンド名」で呼ぶ（明示的）                        │
  │  ・よく使うプロンプトをワンタッチで実行                    │
  │  ・チェーン実行が可能（/tdd → /refactor-clean）           │
  │                                                          │
  │  スキル = Claude が自動で発動する振る舞い                  │
  │  ────────────────────────────────────────                │
  │  ・Claude が必要に応じて自動参照（呼ぶ必要なし）           │
  │  ・広範なワークフロー定義・ドメイン知識                    │
  │  ・複数のコマンドやエージェントから再利用される            │
  │  ・PJ固有の知識が増えやすい（Django, Go, Spring 等）      │
  │                                                          │
  └──────────────────────────────────────────────────────────┘
```

公式ドキュメント（Anthropic + everything-claude-code）をまとめると：

| 違い | コマンド | スキル |
|------|---------|--------|
| **公式定義** | user-invoked actions | auto-triggered behaviors |
| **呼び出し** | `/tdd` と明示的に入力 | Claude が自動で発見・参照 |
| **Anthropic の説明** | "よく使うプロンプトへの素早いアクセス" | "自動で発見・ロードされる拡張モジュール" |
| **保存場所** | `.claude/commands/` | `.claude/skills/` |
| **PJ固有度** | 低い（汎用アクションが中心） | 高い（技術スタック固有の知識が増える） |
| **連携** | チェーン実行可能 | 複数箇所から再利用 |

「TDD」で比べると：

```
  commands/tdd.md       = /tdd で呼ぶ。TDD セッションを即座に開始する
  skills/tdd-workflow/  = Claude が自動参照。テストパターン、モック方法、
                          アンチパターン等の広範な知識。他の場面でも再利用
```

また、`/evolve` コマンド（学習した知見を昇格させる機能）の定義では、
3つの違いを最もシンプルに表現しています：

```
  コマンド   = user-invoked actions     （ユーザーが呼ぶアクション）
  スキル     = auto-triggered behaviors （自動で発動する振る舞い）
  エージェント = complex multi-step processes（複雑なマルチステップ処理）
```

### 対応関係マップ

```
  コマンド               エージェント              スキル
  ─────────            ──────────────          ──────────────
  /plan         ──→    planner           ···→  (なし)
  /tdd          ──→    tdd-guide         ···→  tdd-workflow
  /code-review  ──→    code-reviewer     ···→  security-review
                                          ···→  coding-standards
  /e2e          ──→    e2e-runner        ···→  frontend-patterns
  /build-fix    ──→    build-error-resolver··→  backend-patterns
  /refactor-clean──→   refactor-cleaner   ···→  coding-standards

  ──→ = 起動する     ···→ = 参照する（あれば）
```

---

## クイックスタート

```
  ① /plan             ② /tdd               ③ /code-review
  ┌────────────┐      ┌────────────┐       ┌────────────┐
  │ 計画を作る  │ ──→  │テストから書く│ ──→   │ 品質チェック │
  └────────────┘      └────────────┘       └────────────┘
```

まずはこの3つだけ覚えれば十分です。

1. **`/plan`** - 何をどう作るか、実装計画を作成
2. **`/tdd`** - テストを先に書いてから実装
3. **`/code-review`** - 書いたコードの品質・安全性をチェック

### 他のプロジェクトで使う場合

```bash
cp -r .claude/ ~/your-project/.claude/
```

---

## スラッシュコマンド

チャットで `/コマンド名` と入力するだけで使えます。

### よく使うコマンド TOP 5

| コマンド | 説明 | いつ使う？ |
|---------|------|-----------|
| `/plan` | 実装計画を作成する | 新機能を作り始める前に |
| `/tdd` | テスト駆動開発を始める | 機能追加・バグ修正時に |
| `/code-review` | コードレビューを実行 | コードを書き終えた後に |
| `/build-fix` | ビルドエラーを修正 | `npm run build` が失敗した時に |
| `/e2e` | E2E テストを生成・実行 | 画面操作のテストを書きたい時に |

### 全コマンド一覧（19個）

```
  ┌─ 開発系 ──────────────────┐  ┌─ 品質系 ──────────────────┐
  │  /plan       実装計画作成   │  │  /code-review コードレビュー│
  │  /tdd        テスト駆動開発 │  │  /e2e         E2Eテスト生成│
  │  /build-fix  ビルドエラー修正│  │  /test-coverage カバレッジ  │
  │  /verify     検証ループ    │  │  /refactor-clean 不要コード │
  │  /checkpoint 状態の保存    │  └────────────────────────────┘
  └────────────────────────────┘
  ┌─ ドキュメント系 ──────────┐  ┌─ 高度な機能 ────────────────┐
  │  /update-docs   ドキュメント│  │  /orchestrate マルチエージェント│
  │  /update-codemaps コードマップ│ │  /eval        評価ハーネス   │
  └────────────────────────────┘  │  /skill-create スキル生成    │
                                  │  /learn       パターン抽出   │
                                  │  /evolve      スキル昇格     │
                                  │  /instinct-status 学習状況   │
                                  │  /instinct-import インポート  │
                                  │  /instinct-export エクスポート │
                                  └───────────────────────────────┘
```

---

## エージェント

**エージェント = 専門家**。特定分野のタスクを実行する「実行者」です。

```
  ┌─────────────────────────────────────────────────────┐
  │  なぜ専門エージェント？                               │
  │                                                     │
  │  50個のツールを持つ汎用エージェント → 遅い・不正確    │
  │   5個のツールを持つ専門エージェント → 速い・正確      │
  │                                                     │
  │  これが「エージェントファーストデザイン」の考え方      │
  └─────────────────────────────────────────────────────┘
```

### エージェント一覧（9個）

```
  ┌─ 企画フェーズ ────────────────────────────────────┐
  │  planner          何をどの順番で作るか整理          │
  │  architect        システム全体の設計判断            │
  └──────────────────────────────────────────────────┘
          │
          ▼
  ┌─ 開発フェーズ ────────────────────────────────────┐
  │  tdd-guide        テストを先に書いて開発            │
  │  build-error-resolver ビルドエラーの修正            │
  └──────────────────────────────────────────────────┘
          │
          ▼
  ┌─ 品質フェーズ ────────────────────────────────────┐
  │  code-reviewer     コードの品質チェック             │
  │  security-reviewer セキュリティチェック             │
  │  e2e-runner        画面テストの実行                 │
  └──────────────────────────────────────────────────┘
          │
          ▼
  ┌─ 保守フェーズ ────────────────────────────────────┐
  │  refactor-cleaner  不要コードの削除                 │
  │  doc-updater       ドキュメント更新                 │
  └──────────────────────────────────────────────────┘
```

| エージェント | 得意なこと | 主なツール |
|------------|-----------|-----------|
| **planner** | 何をどの順番で作るか整理 | Read, Grep, Glob |
| **architect** | システム全体の設計判断 | Read, Grep, Glob |
| **tdd-guide** | テストを先に書いて開発をガイド | Read, Write, Edit |
| **code-reviewer** | コードの品質・安全性をチェック | Read, Grep, Glob |
| **security-reviewer** | セキュリティの穴を専門チェック | Read, Grep, Glob |
| **build-error-resolver** | ビルドエラーの原因特定・修正 | Read, Bash, Grep |
| **e2e-runner** | Playwright で画面テスト作成・実行 | Read, Write, Bash |
| **refactor-cleaner** | 使われていないコードの発見・削除 | Read, Grep, Glob |
| **doc-updater** | ドキュメントの更新・同期 | Read, Write, Grep |

### 使い方

通常は自動で選ばれますが、明示的に指示もできます。

```
あなた: security-reviewer エージェントで WalletProvider のセキュリティをチェックして
あなた: planner エージェントで NFT マーケットプレイス機能の実装計画を立てて
```

---

## スキル

**スキル = マニュアル（知識ベース）**。エージェントが参照する「知識・パターン集」です。

```
  ┌───────────────────────────────────────────────────┐
  │  スキルの特徴                                      │
  │                                                    │
  │  ・特定分野の知識・パターンを提供                    │
  │  ・ツールは持たない（知識のみ）                     │
  │  ・エージェントが必要に応じて自動参照               │
  │  ・各 SKILL.md に知識が書かれている                │
  │  ・あなたが意識する必要はない                       │
  └───────────────────────────────────────────────────┘
```

### スキル一覧（11個）

| スキル | 内容 |
|-------|------|
| **frontend-patterns** | React / Next.js のベストプラクティス |
| **backend-patterns** | API 設計、キャッシュ、サーバーサイドパターン |
| **coding-standards** | TypeScript / JavaScript のコーディング規約 |
| **security-review** | セキュリティチェックリスト（OWASP Top 10対応） |
| **tdd-workflow** | テスト駆動開発の手順（RED→GREEN→REFACTOR） |
| **eval-harness** | 検証ループの評価フレームワーク |
| **verification-loop** | 継続的な検証パターン |
| **iterative-retrieval** | サブエージェントのコンテキスト問題を解決する段階的検索 |
| **strategic-compact** | コンテキストが大きくなった時の整理提案 |
| **continuous-learning** | セッションからパターンを自動抽出 |
| **continuous-learning-v2** | 信頼度スコア付きの学習システム |

---

## ルール

**ルール = 交通法規**。Claude が**常に**従うガイドラインです。意識しなくても自動適用されます。

```
  ┌──────────────── 常に有効な8つのルール ──────────────────┐
  │                                                         │
  │  security.md ·········· シークレット禁止・入力バリデーション│
  │  coding-style.md ······ イミュータブル・小さいファイル     │
  │  testing.md ··········· TDD・カバレッジ80%以上            │
  │  git-workflow.md ······ Conventional Commits・PRルール    │
  │  agents.md ············ エージェントの使い分け             │
  │  performance.md ······· モデル選択・コンテキスト管理       │
  │  patterns.md ·········· APIレスポンス形式・リポジトリパターン│
  │  hooks.md ············· フックシステムの使い方             │
  │                                                         │
  └─────────────────────────────────────────────────────────┘
```

### ルールの効果（例）

```typescript
// security.md により、Claude はこう書かない
const apiKey = "sk-xxxxx"       // NG: ハードコード

// 代わりにこう書く
const apiKey = process.env.API_KEY  // OK: 環境変数
```

```typescript
// coding-style.md により、オブジェクトを直接変更しない
user.name = "Alice"                          // NG: ミューテーション
const updatedUser = { ...user, name: "Alice" }  // OK: イミュータブル
```

---

## フック（自動チェック）

**フック = 自動監視カメラ**。バックグラウンドで動き、問題があれば知らせてくれます。

### 実行フロー

```
  あなたが指示
       │
       ▼
  ┌──────────────┐    NG     ┌──────────┐
  │ PreToolUse   │ ────────→ │ BLOCKED! │  ← 危険な操作を阻止
  │ (実行前)     │           └──────────┘
  └──────┬───────┘
         │ OK
         ▼
  ┌──────────────┐
  │  ツール実行   │  ← コードの読み書き等
  └──────┬───────┘
         │
         ▼
  ┌──────────────┐
  │ PostToolUse  │  ← 自動フォーマット・console.log 検出
  │ (実行後)     │
  └──────┬───────┘
         │
         ▼
    結果を表示

  ─── セッション終了時 ────────
  ┌──────────────┐
  │    Stop      │  ← 最終チェック（console.log 等）
  └──────────────┘
```

### フックの種類

| 種類 | タイミング | 何をする？ |
|------|----------|-----------|
| **PreToolUse** | ツール実行**前** | 危険な操作をブロック・リマインド |
| **PostToolUse** | ツール実行**後** | 自動フォーマット・警告表示 |
| **Stop** | セッション終了**前** | 最終チェック |

### 動作するフック一覧

| タイミング | 内容 | 表示例 |
|-----------|------|--------|
| `npm run dev` 実行時 | tmux 外での起動をブロック | `BLOCKED: Dev server must run in tmux` |
| `npm install` 等 | tmux の使用を推奨 | `Consider running in tmux` |
| `git push` 前 | レビューリマインダー | `Review changes before push...` |
| 不要な .md 作成時 | ファイル作成をブロック | `BLOCKED: Unnecessary documentation` |
| PR 作成後 | PR の URL を表示 | `PR created: https://...` |
| .ts/.tsx 編集後 | TypeScript 型チェック | (エラーがあれば表示) |
| JS/TS 編集後 | console.log の検出 | `WARNING: console.log found` |
| セッション終了時 | console.log 最終チェック | `check-console-log.js` が実行 |

---

## コンテキスト（作業モード）

**コンテキスト = ギアチェンジ**。作業の種類に応じて Claude の動作モードが切り替わります。

### 3つのモード

```
  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
  │  開発モード   │    │ レビューモード │    │  調査モード   │
  │  (dev.md)    │    │ (review.md)  │    │(research.md) │
  │              │    │              │    │              │
  │ コードを書く  │    │ 品質チェック  │    │ コードを読む  │
  │ 動くもの優先  │    │ 問題の発見    │    │ 理解に集中    │
  └─────────────┘    └─────────────┘    └─────────────┘
       ▲                   ▲                   ▲
       │                   │                   │
  「実装して」          「レビューして」       「調査して」
  「追加して」          「チェックして」       「理解して」
  「作成して」                              「どうなっている？」
```

通常は自動選択されます。明示指定も可能：

```
あなた: review context でこのコードをレビューして
あなた: research context でこの機能の実装を調査して
```

### コンテキスト vs エージェント

```
  コンテキスト = 「どういう姿勢で？」（慎重に / 素早く / 読むだけ）
  エージェント = 「誰が？」          （planner / code-reviewer / tdd-guide）

  例: レビューモード × code-reviewer エージェント
      → 品質重視の姿勢で、レビュー専門家がチェックする
```

---

## MCP設定

### MCP（Model Context Protocol）とは

MCPサーバーは外部サービス（GitHub、Playwright、Context7 など）と連携するための仕組みです。

### コンテキストウィンドウへの影響

```
  MCPを入れすぎると使える記憶容量が減る！

  MCP なし:  ████████████████████████  200k
  MCP 10個:  ████████████████░░░░░░░░  150k
  MCP 30個:  ████████░░░░░░░░░░░░░░░░   70k  ← 危険！
```

### 推奨設定

| 項目 | 推奨値 |
|------|--------|
| 設定ファイル内のMCP数 | 20〜30個（必要に応じて有効化） |
| プロジェクトごとの有効MCP数 | **10個以下** |
| 有効なツール数 | **80個以下** |

### 現在の設定

- **Playwright MCP** - ブラウザ操作・E2Eテスト
- **Context7 MCP** - ライブラリドキュメント検索

MCPの状態は Claude Code 内で `/mcp` コマンドで確認できます。

---

## TDDワークフロー

このプロジェクトは **テスト駆動開発（TDD）** を採用しています。

### RED → GREEN → REFACTOR サイクル

```
        ┌───────────────────────────────────┐
        │                                   │
        ▼                                   │
  ┌───────────┐   最小限の   ┌───────────┐  │
  │    RED     │   実装       │   GREEN   │  │
  │ テストを書く│ ─────────→  │ テストを通す│  │
  │ （失敗する）│             │ （成功する）│  │  次の
  └───────────┘             └─────┬─────┘  │  機能へ
                                  │        │
                            コード改善     │
                                  │        │
                            ┌─────▼─────┐  │
                            │ REFACTOR  │  │
                            │ リファクタ  │ ─┘
                            │（テスト維持）│
                            └───────────┘
```

### 使い方

```
/tdd プレイヤーの移動機能を実装したい   # TDD開始
/test-coverage                         # カバレッジ確認（80%以上が目標）
/e2e ホームページのロードテスト          # E2Eテスト生成
```

### テストの種類

| 種類 | ツール | テスト対象 |
|------|--------|-----------|
| **Unit Tests** | Vitest / Jest | 個別の関数・コンポーネント |
| **Integration Tests** | Vitest / Jest | 複数コンポーネントの連携 |
| **E2E Tests** | Playwright | ブラウザでの実際の操作 |

---

## 開発ワークフロー全体図

すべての要素がどう連携するかを示します。

```
  ┌─────────────────────────────────────────────────────────┐
  │                   新機能の開発フロー                       │
  │                                                         │
  │   ① /plan で計画作成                                     │
  │       │                                                  │
  │       ▼                                                  │
  │   ② /tdd でテストから書く                                 │
  │       │                                                  │
  │       ├──→ RED:    テストを書く（失敗） ──┐               │
  │       │                                   │              │
  │       ├──→ GREEN:  実装する（成功）    ◀──┘               │
  │       │                                                  │
  │       └──→ REFACTOR: 改善する ──→ 次のテストへ            │
  │              │                                           │
  │              ▼ 実装完了                                   │
  │   ③ /code-review でレビュー                               │
  │       │                                                  │
  │       ├── 問題あり → 修正 → 再レビュー                    │
  │       │                                                  │
  │       └── 問題なし                                        │
  │              │                                           │
  │              ▼                                           │
  │   ④ /e2e で画面テスト                                     │
  │              │                                           │
  │              ▼                                           │
  │          完了！                                           │
  │                                                         │
  │  ─── 裏で常に動いているもの ──────────────                │
  │  ルール:      常時チェック（セキュリティ・コード規約）       │
  │  フック:      自動フォーマット・console.log 警告            │
  │  コンテキスト: 作業フェーズに応じたモード自動切替            │
  └─────────────────────────────────────────────────────────┘
```

---

## よくある質問

### 初心者向け

**Q: 最初に何から始めればいい？**
`/plan` コマンドを試してみましょう。実装計画を作ってくれます。

**Q: コマンドを全部覚える必要がある？**
`/plan`, `/tdd`, `/code-review` の3つだけで十分です。

**Q: エージェントを手動で選ぶ必要がある？**
通常は自動。特別な場合だけ明示指定すればOKです。

**Q: コマンド・エージェント・スキルの違いがわからない**
「ボタン・専門家・マニュアル」です。[詳細はこちら](#コマンドエージェントスキルの違い最重要)。

**Q: /plan を打つとスキルが動くの？エージェントが動くの？**
エージェント（planner）が動きます。plan スキルは存在しません。コマンドごとにスキルがあるとは限りません。[詳細はこちら](#plan-を打つとスキルが動くのエージェントが動くの)。

**Q: /tdd の場合はどうなの？**
コマンド→エージェント→スキルの3つ全部が動きます。tdd-guide エージェントが tdd-workflow スキル（テストパターン・モック方法等の広範なワークフロー定義）を自動参照しながら実行します。[詳細はこちら](#コマンドとスキルの本質的な違い)。

### 中級者向け

**Q: ルールを変えたい・追加したい**
`.claude/rules/` に `.md` ファイルを追加 or 既存ファイルを編集。

**Q: フックを無効にしたい**
`.claude/settings.local.json` の `hooks` セクションから該当フックを削除。

**Q: エージェントをカスタマイズしたい**
`.claude/agents/` 内の `.md` ファイルを編集。

**Q: 新しいコマンドを追加したい**
`.claude/commands/` に新しい `.md` ファイルを作成。

**Q: MCPを追加したい**
`.claude/settings.local.json` の `enabledMcpjsonServers` に追加。**10個以下推奨**。

---

## 設計思想

この設定は [everything-claude-code](https://github.com/affaan-m/everything-claude-code) の設計思想に基づいています。

```
  ┌────────────────── 6つのコア原則 ──────────────────────┐
  │                                                       │
  │  1. エージェントファースト  専門家に任せる（5ツール）    │
  │  2. TDD中心              テストが先、実装は後          │
  │  3. セキュリティファースト シークレット検出・自動バリデーション│
  │  4. コンテキスト管理      MCP 10個以下・ツール80個以下  │
  │  5. モジュラー設計        小さいファイル・役割ごとに分割 │
  │  6. 自動化               フックで品質チェック自動実行   │
  │                                                       │
  └───────────────────────────────────────────────────────┘
```

### 参考リソース

- [everything-claude-code リポジトリ](https://github.com/affaan-m/everything-claude-code)
- [Anthropicハッカソン優勝者のClaude Code設定集を読み解く（Zenn）](https://zenn.dev/ttks/articles/a54c7520f827be)
- [zenith.chat](https://zenith.chat) - この設定で開発されたプロダクト

---
